<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MENANG888 - Game Online Terpercaya</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #ffcc00;
            --secondary-color: #333;
            --accent-color: #ff5722;
            --dark-color: #1a1a1a;
            --light-color: #f4f4f4;
            --success-color: #4caf50;
            --danger-color: #f44336;
            --info-color: #2196f3;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--dark-color);
            color: var(--light-color);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 2px solid var(--primary-color);
            margin-bottom: 30px;
        }
        
        .logo {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary-color);
            text-shadow: 0 0 10px rgba(255, 204, 0, 0.5);
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .balance {
            background-color: var(--secondary-color);
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            color: var(--dark-color);
        }
        
        .btn-primary:hover {
            background-color: #e6b800;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background-color: var(--secondary-color);
            color: var(--light-color);
        }
        
        .btn-secondary:hover {
            background-color: #444;
        }
        
        .btn-success {
            background-color: var(--success-color);
            color: white;
        }
        
        .btn-danger {
            background-color: var(--danger-color);
            color: white;
        }
        
        .btn-info {
            background-color: var(--info-color);
            color: white;
        }
        
        /* Navigation */
        .nav-tabs {
            display: flex;
            background-color: var(--secondary-color);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        .nav-tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .nav-tab.active {
            background-color: var(--primary-color);
            color: var(--dark-color);
            font-weight: bold;
        }
        
        .nav-tab:hover:not(.active) {
            background-color: #444;
        }
        
        /* Content Sections */
        .content-section {
            display: none;
            padding: 20px;
            background-color: var(--secondary-color);
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .content-section.active {
            display: block;
        }
        
        /* Game Grid */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .game-card {
            background-color: var(--dark-color);
            border-radius: 10px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
            text-align: center;
        }
        
        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(255, 204, 0, 0.3);
        }
        
        .game-icon {
            width: 100%;
            height: 150px;
            background-color: #555;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: var(--primary-color);
        }
        
        .game-title {
            padding: 15px;
            font-weight: bold;
        }
        
        /* Forms */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }
        
        .form-control {
            width: 100%;
            padding: 12px;
            border-radius: 5px;
            border: 1px solid #555;
            background-color: var(--dark-color);
            color: var(--light-color);
            font-size: 1rem;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        
        /* Captcha */
        .captcha-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .captcha-code {
            background-color: #f0f0f0;
            color: #333;
            padding: 10px 15px;
            border-radius: 5px;
            font-weight: bold;
            letter-spacing: 3px;
            user-select: none;
        }
        
        .captcha-refresh {
            background: none;
            border: none;
            color: var(--primary-color);
            cursor: pointer;
            font-size: 1.2rem;
        }
        
        /* Social Icons */
        .social-icons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }
        
        .social-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--dark-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--primary-color);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .social-icon:hover {
            transform: scale(1.1);
            background-color: var(--primary-color);
            color: var(--dark-color);
        }
        
        /* Admin Panel */
        .admin-panel {
            background-color: var(--secondary-color);
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
            display: none;
        }
        
        .admin-panel h2 {
            margin-bottom: 15px;
            color: var(--primary-color);
        }
        
        .admin-controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .control-group label {
            font-weight: bold;
        }
        
        .control-group input, .control-group select {
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #555;
            background-color: var(--dark-color);
            color: var(--light-color);
        }
        
        .admin-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: var(--secondary-color);
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }
        
        .modal h2 {
            margin-bottom: 20px;
            color: var(--primary-color);
        }
        
        .modal-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            justify-content: flex-end;
        }
        
        /* Table */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .data-table th, .data-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #444;
        }
        
        .data-table th {
            background-color: var(--dark-color);
            color: var(--primary-color);
        }
        
        .data-table tr:hover {
            background-color: rgba(255, 204, 0, 0.1);
        }
        
        /* Status Badges */
        .status-pending {
            background-color: #ff9800;
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
        }
        
        .status-approved {
            background-color: var(--success-color);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
        }
        
        .status-rejected {
            background-color: var(--danger-color);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .admin-controls {
                grid-template-columns: 1fr;
            }
            
            .nav-tabs {
                flex-direction: column;
            }
            
            .games-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
        }
    </style>
</head>
<body>
    <!-- Login Modal -->
    <div class="modal" id="login-modal">
        <div class="modal-content">
            <h2>Login</h2>
            <div class="form-group">
                <label for="login-username">Username/ID</label>
                <input type="text" id="login-username" class="form-control" placeholder="Masukkan username atau ID">
            </div>
            <div class="form-group">
                <label for="login-password">Password</label>
                <input type="password" id="login-password" class="form-control" placeholder="Masukkan password">
            </div>
            <div class="modal-buttons">
                <button class="btn btn-secondary" id="goto-register">Daftar Akun Baru</button>
                <button class="btn btn-primary" id="confirm-login">Login</button>
            </div>
        </div>
    </div>
    
    <!-- Register Modal -->
    <div class="modal" id="register-modal">
        <div class="modal-content">
            <h2>Daftar Akun Baru</h2>
            <div class="form-group">
                <label for="reg-username">Username/ID</label>
                <input type="text" id="reg-username" class="form-control" placeholder="Masukkan username atau ID">
            </div>
            <div class="form-group">
                <label for="reg-password">Password</label>
                <input type="password" id="reg-password" class="form-control" placeholder="Masukkan password">
            </div>
            <div class="form-group">
                <label for="reg-email">Email</label>
                <input type="email" id="reg-email" class="form-control" placeholder="Masukkan email">
            </div>
            <div class="form-group">
                <label for="reg-phone">No. Handphone</label>
                <input type="text" id="reg-phone" class="form-control" placeholder="Masukkan nomor handphone">
            </div>
            <div class="form-group">
                <label for="reg-bank-account">No. Rekening</label>
                <input type="text" id="reg-bank-account" class="form-control" placeholder="Masukkan nomor rekening">
            </div>
            <div class="form-group">
                <label for="reg-bank-name">Nama Rekening</label>
                <input type="text" id="reg-bank-name" class="form-control" placeholder="Masukkan nama rekening">
            </div>
            <div class="form-group">
                <label>Verifikasi Captcha</label>
                <div class="captcha-container">
                    <div class="captcha-code" id="captcha-text">A1B2C3</div>
                    <button class="captcha-refresh" id="refresh-captcha"><i class="fas fa-sync-alt"></i></button>
                </div>
                <input type="text" id="reg-captcha" class="form-control" placeholder="Masukkan kode captcha">
            </div>
            <div class="modal-buttons">
                <button class="btn btn-secondary" id="goto-login">Kembali ke Login</button>
                <button class="btn btn-primary" id="confirm-register">Daftar</button>
            </div>
        </div>
    </div>
    
    <!-- Main App (shown after login) -->
    <div id="main-app" style="display: none;">
        <div class="container">
            <header>
                <div class="logo">MENANG888</div>
                <div class="user-info">
                    <div class="balance">Saldo: <span id="balance">0</span> koin</div>
                    <div class="user-id">ID: <span id="user-id-display">-</span></div>
                    <button class="btn btn-secondary" id="logout-btn">Logout</button>
                    <button class="btn btn-info" id="admin-btn">Admin</button>
                </div>
            </header>
            
            <main>
                <div class="nav-tabs">
                    <div class="nav-tab active" data-target="home-section">Home</div>
                    <div class="nav-tab" data-target="deposit-section">Deposit</div>
                    <div class="nav-tab" data-target="withdraw-section">Withdraw</div>
                    <div class="nav-tab" data-target="promo-section">Promosi</div>
                    <div class="nav-tab" data-target="info-section">Info Kami</div>
                    <div class="nav-tab" data-target="account-section">Akun Saya</div>
                </div>
                
                <!-- Home Section -->
                <div class="content-section active" id="home-section">
                    <h2>Selamat Datang di MENANG888</h2>
                    <p>Pilih game favorit Anda dan mulai bermain!</p>
                    
                    <div class="games-grid">
                        <div class="game-card" data-game="slot">
                            <div class="game-icon">
                                <i class="fas fa-sliders-h"></i>
                            </div>
                            <div class="game-title">Slot Machine</div>
                        </div>
                        <div class="game-card" data-game="wheel">
                            <div class="game-icon">
                                <i class="fas fa-redo"></i>
                            </div>
                            <div class="game-title">Spin Wheel</div>
                        </div>
                        <div class="game-card" data-game="poker">
                            <div class="game-icon">
                                <i class="fas fa-spade"></i>
                            </div>
                            <div class="game-title">Poker Online</div>
                        </div>
                        <div class="game-card" data-game="blackjack">
                            <div class="game-icon">
                                <i class="fas fa-dice"></i>
                            </div>
                            <div class="game-title">Blackjack</div>
                        </div>
                        <div class="game-card" data-game="roulette">
                            <div class="game-icon">
                                <i class="fas fa-circle"></i>
                            </div>
                            <div class="game-title">Roulette</div>
                        </div>
                        <div class="game-card" data-game="baccarat">
                            <div class="game-icon">
                                <i class="fas fa-gem"></i>
                            </div>
                            <div class="game-title">Baccarat</div>
                        </div>
                    </div>
                </div>
                
                <!-- Deposit Section -->
                <div class="content-section" id="deposit-section">
                    <h2>Deposit Saldo</h2>
                    <div class="form-group">
                        <label for="deposit-amount">Nominal Deposit</label>
                        <input type="number" id="deposit-amount" class="form-control" placeholder="Masukkan nominal deposit">
                    </div>
                    <div class="form-group">
                        <label for="deposit-bank">Pilih Bank</label>
                        <select id="deposit-bank" class="form-control">
                            <option value="">-- Pilih Bank --</option>
                            <option value="bca">BCA</option>
                            <option value="bni">BNI</option>
                            <option value="bri">BRI</option>
                            <option value="mandiri">Mandiri</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="deposit-proof">Upload Bukti Transfer</label>
                        <input type="file" id="deposit-proof" class="form-control">
                    </div>
                    <button class="btn btn-primary" id="submit-deposit">Kirim Permintaan Deposit</button>
                </div>
                
                <!-- Withdraw Section -->
                <div class="content-section" id="withdraw-section">
                    <h2>Withdraw Saldo</h2>
                    <div class="form-group">
                        <label for="withdraw-amount">Nominal Withdraw</label>
                        <input type="number" id="withdraw-amount" class="form-control" placeholder="Masukkan nominal withdraw">
                    </div>
                    <div class="form-group">
                        <label>Rekening Tujuan</label>
                        <div class="form-control" id="withdraw-bank-info">
                            No. Rekening: <span id="withdraw-account">-</span><br>
                            Nama Rekening: <span id="withdraw-name">-</span>
                        </div>
                    </div>
                    <button class="btn btn-primary" id="submit-withdraw">Kirim Permintaan Withdraw</button>
                </div>
                
                <!-- Promo Section -->
                <div class="content-section" id="promo-section">
                    <h2>Promosi Menarik</h2>
                    <p>Belum ada promo saat ini. Silakan cek kembali nanti.</p>
                </div>
                
                <!-- Info Section -->
                <div class="content-section" id="info-section">
                    <h2>Info Kami</h2>
                    <p>Hubungi kami melalui media sosial berikut:</p>
                    <div class="social-icons">
                        <div class="social-icon" data-social="facebook">
                            <i class="fab fa-facebook-f"></i>
                        </div>
                        <div class="social-icon" data-social="telegram">
                            <i class="fab fa-telegram"></i>
                        </div>
                        <div class="social-icon" data-social="whatsapp">
                            <i class="fab fa-whatsapp"></i>
                        </div>
                        <div class="social-icon" data-social="website">
                            <i class="fas fa-globe"></i>
                        </div>
                    </div>
                </div>
                
                <!-- Account Section -->
                <div class="content-section" id="account-section">
                    <h2>Informasi Akun</h2>
                    <div class="form-group">
                        <label>Username/ID</label>
                        <div class="form-control" id="account-username">-</div>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <div class="form-control" id="account-email">-</div>
                    </div>
                    <div class="form-group">
                        <label>No. Handphone</label>
                        <div class="form-control" id="account-phone">-</div>
                    </div>
                    <div class="form-group">
                        <label>No. Rekening</label>
                        <div class="form-control" id="account-bank-account">-</div>
                    </div>
                    <div class="form-group">
                        <label>Nama Rekening</label>
                        <div class="form-control" id="account-bank-name">-</div>
                    </div>
                </div>
                
                <!-- Admin Panel -->
                <div class="admin-panel" id="admin-panel">
                    <h2>Panel Admin</h2>
                    
                    <div class="nav-tabs">
                        <div class="nav-tab active" data-target="admin-users">Manajemen User</div>
                        <div class="nav-tab" data-target="admin-deposits">Permintaan Deposit</div>
                        <div class="nav-tab" data-target="admin-withdraws">Permintaan Withdraw</div>
                        <div class="nav-tab" data-target="admin-settings">Pengaturan Game</div>
                    </div>
                    
                    <!-- Admin Users -->
                    <div class="content-section active" id="admin-users">
                        <h3>Daftar User</h3>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Username</th>
                                    <th>Email</th>
                                    <th>Saldo</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody id="users-table-body">
                                <!-- Data user akan diisi oleh JavaScript -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Admin Deposits -->
                    <div class="content-section" id="admin-deposits">
                        <h3>Permintaan Deposit</h3>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID User</th>
                                    <th>Nominal</th>
                                    <th>Bank</th>
                                    <th>Status</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody id="deposits-table-body">
                                <!-- Data deposit akan diisi oleh JavaScript -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Admin Withdraws -->
                    <div class="content-section" id="admin-withdraws">
                        <h3>Permintaan Withdraw</h3>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID User</th>
                                    <th>Nominal</th>
                                    <th>Rekening</th>
                                    <th>Status</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody id="withdraws-table-body">
                                <!-- Data withdraw akan diisi oleh JavaScript -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Admin Settings -->
                    <div class="content-section" id="admin-settings">
                        <h3>Pengaturan Game</h3>
                        <div class="admin-controls">
                            <div class="control-group">
                                <label for="win-chance">Peluang Menang (%)</label>
                                <input type="number" id="win-chance" min="0" max="100" value="30">
                            </div>
                            <div class="control-group">
                                <label for="payout-multiplier">Pengali Kemenangan</label>
                                <input type="number" id="payout-multiplier" min="1" max="10" step="0.1" value="2">
                            </div>
                            <div class="control-group">
                                <label for="min-bet">Taruhan Minimum</label>
                                <input type="number" id="min-bet" min="1" value="10">
                            </div>
                            <div class="control-group">
                                <label for="max-bet">Taruhan Maksimum</label>
                                <input type="number" id="max-bet" min="10" value="100">
                            </div>
                        </div>
                        <div class="admin-buttons">
                            <button class="btn btn-primary" id="save-settings">Simpan Pengaturan</button>
                            <button class="btn btn-secondary" id="reset-game">Reset Game</button>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script>
        // Data aplikasi
        let currentUser = null;
        let users = JSON.parse(localStorage.getItem('menang888_users')) || [];
        let deposits = JSON.parse(localStorage.getItem('menang888_deposits')) || [];
        let withdraws = JSON.parse(localStorage.getItem('menang888_withdraws')) || [];
        let gameSettings = JSON.parse(localStorage.getItem('menang888_settings')) || {
            winChance: 30,
            payoutMultiplier: 2,
            minBet: 10,
            maxBet: 100
        };
        
        // Elemen DOM
        const loginModal = document.getElementById('login-modal');
        const registerModal = document.getElementById('register-modal');
        const mainApp = document.getElementById('main-app');
        const captchaText = document.getElementById('captcha-text');
        const refreshCaptchaBtn = document.getElementById('refresh-captcha');
        
        // Inisialisasi aplikasi
        function initApp() {
            // Tampilkan modal login pertama kali
            loginModal.style.display = 'flex';
            
            // Setup event listeners
            setupEventListeners();
            
            // Generate captcha pertama kali
            generateCaptcha();
        }
        
        // Setup event listeners
        function setupEventListeners() {
            // Navigasi tab
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const target = this.getAttribute('data-target');
                    
                    // Nonaktifkan semua tab dan section
                    document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
                    
                    // Aktifkan tab dan section yang dipilih
                    this.classList.add('active');
                    document.getElementById(target).classList.add('active');
                });
            });
            
            // Tombol login/register
            document.getElementById('goto-register').addEventListener('click', function() {
                loginModal.style.display = 'none';
                registerModal.style.display = 'flex';
                generateCaptcha();
            });
            
            document.getElementById('goto-login').addEventListener('click', function() {
                registerModal.style.display = 'none';
                loginModal.style.display = 'flex';
            });
            
            document.getElementById('confirm-login').addEventListener('click', confirmLogin);
            document.getElementById('confirm-register').addEventListener('click', confirmRegister);
            
            // Refresh captcha
            refreshCaptchaBtn.addEventListener('click', generateCaptcha);
            
            // Tombol logout
            document.getElementById('logout-btn').addEventListener('click', logout);
            
            // Tombol admin
            document.getElementById('admin-btn').addEventListener('click', toggleAdminPanel);
            
            // Tombol deposit/withdraw
            document.getElementById('submit-deposit').addEventListener('click', submitDeposit);
            document.getElementById('submit-withdraw').addEventListener('click', submitWithdraw);
            
            // Tombol admin
            document.getElementById('save-settings').addEventListener('click', saveSettings);
            document.getElementById('reset-game').addEventListener('click', resetGame);
            
            // Social icons
            document.querySelectorAll('.social-icon').forEach(icon => {
                icon.addEventListener('click', function() {
                    const social = this.getAttribute('data-social');
                    openSocialLink(social);
                });
            });
            
            // Game cards
            document.querySelectorAll('.game-card').forEach(card => {
                card.addEventListener('click', function() {
                    const game = this.getAttribute('data-game');
                    openGame(game);
                });
            });
        }
        
        // Generate captcha
        function generateCaptcha() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            let captcha = '';
            for (let i = 0; i < 6; i++) {
                captcha += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            captchaText.textContent = captcha;
        }
        
        // Konfirmasi login
        function confirmLogin() {
            const username = document.getElementById('login-username').value;
            const password = document.getElementById('login-password').value;
            
            // Validasi input
            if (!username || !password) {
                alert('Username dan password harus diisi!');
                return;
            }
            
            // Cari user
            const user = users.find(u => u.username === username && u.password === password);
            
            if (user) {
                // Login berhasil
                currentUser = user;
                loginModal.style.display = 'none';
                mainApp.style.display = 'block';
                updateUserDisplay();
                
                // Jika user adalah admin, tampilkan tombol admin
                if (user.isAdmin) {
                    document.getElementById('admin-btn').style.display = 'block';
                } else {
                    document.getElementById('admin-btn').style.display = 'none';
                }
            } else {
                alert('Username atau password salah!');
            }
        }
        
        // Konfirmasi registrasi
        function confirmRegister() {
            const username = document.getElementById('reg-username').value;
            const password = document.getElementById('reg-password').value;
            const email = document.getElementById('reg-email').value;
            const phone = document.getElementById('reg-phone').value;
            const bankAccount = document.getElementById('reg-bank-account').value;
            const bankName = document.getElementById('reg-bank-name').value;
            const captchaInput = document.getElementById('reg-captcha').value;
            
            // Validasi input
            if (!username || !password || !email || !phone || !bankAccount || !bankName || !captchaInput) {
                alert('Semua field harus diisi!');
                return;
            }
            
            // Validasi captcha
            if (captchaInput !== captchaText.textContent) {
                alert('Kode captcha tidak sesuai!');
                generateCaptcha();
                return;
            }
            
            // Cek apakah username sudah ada
            if (users.find(u => u.username === username)) {
                alert('Username sudah digunakan!');
                return;
            }
            
            // Buat user baru
            const newUser = {
                id: generateUserId(),
                username,
                password,
                email,
                phone,
                bankAccount,
                bankName,
                balance: 0,
                isAdmin: users.length === 0 // User pertama adalah admin
            };
            
            users.push(newUser);
            saveUsersToStorage();
            
            alert('Pendaftaran berhasil! Silakan login.');
            registerModal.style.display = 'none';
            loginModal.style.display = 'flex';
            
            // Reset form
            document.getElementById('reg-username').value = '';
            document.getElementById('reg-password').value = '';
            document.getElementById('reg-email').value = '';
            document.getElementById('reg-phone').value = '';
            document.getElementById('reg-bank-account').value = '';
            document.getElementById('reg-bank-name').value = '';
            document.getElementById('reg-captcha').value = '';
        }
        
        // Generate user ID
        function generateUserId() {
            return 'USER' + Math.floor(100000 + Math.random() * 900000);
        }
        
        // Update tampilan user
        function updateUserDisplay() {
            if (!currentUser) return;
            
            document.getElementById('balance').textContent = currentUser.balance;
            document.getElementById('user-id-display').textContent = currentUser.id;
            document.getElementById('withdraw-account').textContent = currentUser.bankAccount;
            document.getElementById('withdraw-name').textContent = currentUser.bankName;
            
            // Update info akun
            document.getElementById('account-username').textContent = currentUser.username;
            document.getElementById('account-email').textContent = currentUser.email;
            document.getElementById('account-phone').textContent = currentUser.phone;
            document.getElementById('account-bank-account').textContent = currentUser.bankAccount;
            document.getElementById('account-bank-name').textContent = currentUser.bankName;
        }
        
        // Logout
        function logout() {
            currentUser = null;
            mainApp.style.display = 'none';
            loginModal.style.display = 'flex';
            document.getElementById('admin-panel').style.display = 'none';
            
            // Reset form login
            document.getElementById('login-username').value = '';
            document.getElementById('login-password').value = '';
        }
        
        // Toggle panel admin
        function toggleAdminPanel() {
            const adminPanel = document.getElementById('admin-panel');
            
            if (adminPanel.style.display === 'block') {
                adminPanel.style.display = 'none';
            } else {
                adminPanel.style.display = 'block';
                updateAdminDisplay();
            }
        }
        
        // Update tampilan admin
        function updateAdminDisplay() {
            if (!currentUser || !currentUser.isAdmin) return;
            
            // Update daftar user
            updateUsersTable();
            
            // Update daftar deposit
            updateDepositsTable();
            
            // Update daftar withdraw
            updateWithdrawsTable();
            
            // Update pengaturan
            document.getElementById('win-chance').value = gameSettings.winChance;
            document.getElementById('payout-multiplier').value = gameSettings.payoutMultiplier;
            document.getElementById('min-bet').value = gameSettings.minBet;
            document.getElementById('max-bet').value = gameSettings.maxBet;
        }
        
        // Update tabel user
        function updateUsersTable() {
            const tbody = document.getElementById('users-table-body');
            tbody.innerHTML = '';
            
            users.forEach(user => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${user.id}</td>
                    <td>${user.username}</td>
                    <td>${user.email}</td>
                    <td>${user.balance}</td>
                    <td>
                        <button class="btn btn-primary btn-sm" onclick="editUser('${user.id}')">Edit</button>
                        <button class="btn btn-danger btn-sm" onclick="deleteUser('${user.id}')">Hapus</button>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }
        
        // Update tabel deposit
        function updateDepositsTable() {
            const tbody = document.getElementById('deposits-table-body');
            tbody.innerHTML = '';
            
            deposits.forEach(deposit => {
                const statusClass = deposit.status === 'pending' ? 'status-pending' : 
                                  deposit.status === 'approved' ? 'status-approved' : 'status-rejected';
                
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${deposit.userId}</td>
                    <td>${deposit.amount}</td>
                    <td>${deposit.bank}</td>
                    <td><span class="${statusClass}">${deposit.status}</span></td>
                    <td>
                        ${deposit.status === 'pending' ? `
                            <button class="btn btn-success btn-sm" onclick="approveDeposit('${deposit.id}')">Setujui</button>
                            <button class="btn btn-danger btn-sm" onclick="rejectDeposit('${deposit.id}')">Tolak</button>
                        ` : ''}
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }
        
        // Update tabel withdraw
        function updateWithdrawsTable() {
            const tbody = document.getElementById('withdraws-table-body');
            tbody.innerHTML = '';
            
            withdraws.forEach(withdraw => {
                const statusClass = withdraw.status === 'pending' ? 'status-pending' : 
                                  withdraw.status === 'approved' ? 'status-approved' : 'status-rejected';
                
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${withdraw.userId}</td>
                    <td>${withdraw.amount}</td>
                    <td>${withdraw.bankAccount}</td>
                    <td><span class="${statusClass}">${withdraw.status}</span></td>
                    <td>
                        ${withdraw.status === 'pending' ? `
                            <button class="btn btn-success btn-sm" onclick="approveWithdraw('${withdraw.id}')">Setujui</button>
                            <button class="btn btn-danger btn-sm" onclick="rejectWithdraw('${withdraw.id}')">Tolak</button>
                        ` : ''}
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }
        
        // Submit deposit
        function submitDeposit() {
            if (!currentUser) return;
            
            const amount = parseInt(document.getElementById('deposit-amount').value);
            const bank = document.getElementById('deposit-bank').value;
            const proof = document.getElementById('deposit-proof').files[0];
            
            // Validasi
            if (!amount || amount <= 0) {
                alert('Masukkan nominal deposit yang valid!');
                return;
            }
            
            if (!bank) {
                alert('Pilih bank untuk deposit!');
                return;
            }
            
            if (!proof) {
                alert('Upload bukti transfer!');
                return;
            }
            
            // Buat permintaan deposit
            const deposit = {
                id: generateTransactionId(),
                userId: currentUser.id,
                amount,
                bank,
                proof: proof.name, // Dalam implementasi nyata, file akan diupload ke server
                status: 'pending',
                date: new Date().toISOString()
            };
            
            deposits.push(deposit);
            saveDepositsToStorage();
            
            alert('Permintaan deposit telah dikirim. Menunggu persetujuan admin.');
            
            // Reset form
            document.getElementById('deposit-amount').value = '';
            document.getElementById('deposit-bank').value = '';
            document.getElementById('deposit-proof').value = '';
        }
        
        // Submit withdraw
        function submitWithdraw() {
            if (!currentUser) return;
            
            const amount = parseInt(document.getElementById('withdraw-amount').value);
            
            // Validasi
            if (!amount || amount <= 0) {
                alert('Masukkan nominal withdraw yang valid!');
                return;
            }
            
            if (amount > currentUser.balance) {
                alert('Saldo tidak mencukupi!');
                return;
            }
            
            // Buat permintaan withdraw
            const withdraw = {
                id: generateTransactionId(),
                userId: currentUser.id,
                amount,
                bankAccount: currentUser.bankAccount,
                bankName: currentUser.bankName,
                status: 'pending',
                date: new Date().toISOString()
            };
            
            withdraws.push(withdraw);
            saveWithdrawsToStorage();
            
            alert('Permintaan withdraw telah dikirim. Menunggu persetujuan admin.');
            
            // Reset form
            document.getElementById('withdraw-amount').value = '';
        }
        
        // Generate transaction ID
        function generateTransactionId() {
            return 'TXN' + Math.floor(100000 + Math.random() * 900000);
        }
        
        // Approve deposit
        function approveDeposit(depositId) {
            const deposit = deposits.find(d => d.id === depositId);
            if (!deposit) return;
            
            const user = users.find(u => u.id === deposit.userId);
            if (!user) return;
            
            // Update saldo user
            user.balance += deposit.amount;
            
            // Update status deposit
            deposit.status = 'approved';
            
            // Simpan perubahan
            saveUsersToStorage();
            saveDepositsToStorage();
            
            // Update tampilan
            if (currentUser && currentUser.id === user.id) {
                currentUser.balance = user.balance;
                updateUserDisplay();
            }
            
            updateDepositsTable();
            alert(`Deposit sebesar ${deposit.amount} telah disetujui.`);
        }
        
        // Reject deposit
        function rejectDeposit(depositId) {
            const deposit = deposits.find(d => d.id === depositId);
            if (!deposit) return;
            
            // Update status deposit
            deposit.status = 'rejected';
            
            // Simpan perubahan
            saveDepositsToStorage();
            
            updateDepositsTable();
            alert(`Deposit sebesar ${deposit.amount} telah ditolak.`);
        }
        
        // Approve withdraw
        function approveWithdraw(withdrawId) {
            const withdraw = withdraws.find(w => w.id === withdrawId);
            if (!withdraw) return;
            
            const user = users.find(u => u.id === withdraw.userId);
            if (!user) return;
            
            // Update saldo user
            user.balance -= withdraw.amount;
            
            // Update status withdraw
            withdraw.status = 'approved';
            
            // Simpan perubahan
            saveUsersToStorage();
            saveWithdrawsToStorage();
            
            // Update tampilan
            if (currentUser && currentUser.id === user.id) {
                currentUser.balance = user.balance;
                updateUserDisplay();
            }
            
            updateWithdrawsTable();
            alert(`Withdraw sebesar ${withdraw.amount} telah disetujui.`);
        }
        
        // Reject withdraw
        function rejectWithdraw(withdrawId) {
            const withdraw = withdraws.find(w => w.id === withdrawId);
            if (!withdraw) return;
            
            // Update status withdraw
            withdraw.status = 'rejected';
            
            // Simpan perubahan
            saveWithdrawsToStorage();
            
            updateWithdrawsTable();
            alert(`Withdraw sebesar ${withdraw.amount} telah ditolak.`);
        }
        
        // Simpan pengaturan
        function saveSettings() {
            const winChance = parseInt(document.getElementById('win-chance').value);
            const payoutMultiplier = parseFloat(document.getElementById('payout-multiplier').value);
            const minBet = parseInt(document.getElementById('min-bet').value);
            const maxBet = parseInt(document.getElementById('max-bet').value);
            
            // Validasi input
            if (winChance < 0 || winChance > 100) {
                alert('Peluang menang harus antara 0 dan 100!');
                return;
            }
            
            if (payoutMultiplier < 1) {
                alert('Pengali kemenangan harus minimal 1!');
                return;
            }
            
            if (minBet < 1) {
                alert('Taruhan minimum harus minimal 1!');
                return;
            }
            
            if (maxBet <= minBet) {
                alert('Taruhan maksimum harus lebih besar dari taruhan minimum!');
                return;
            }
            
            // Simpan pengaturan
            gameSettings.winChance = winChance;
            gameSettings.payoutMultiplier = payoutMultiplier;
            gameSettings.minBet = minBet;
            gameSettings.maxBet = maxBet;
            
            saveSettingsToStorage();
            alert('Pengaturan berhasil disimpan!');
        }
        
        // Reset game
        function resetGame() {
            if (confirm('Apakah Anda yakin ingin mereset game? Semua data akan dihapus.')) {
                users = [];
                deposits = [];
                withdraws = [];
                
                // Buat admin default
                users.push({
                    id: 'ADMIN001',
                    username: 'admin',
                    password: 'admin123',
                    email: 'admin@menang888.com',
                    phone: '081234567890',
                    bankAccount: '1234567890',
                    bankName: 'Admin MENANG888',
                    balance: 1000000,
                    isAdmin: true
                });
                
                saveUsersToStorage();
                saveDepositsToStorage();
                saveWithdrawsToStorage();
                
                alert('Game telah direset! Admin default: username=admin, password=admin123');
                
                if (currentUser && currentUser.isAdmin) {
                    updateAdminDisplay();
                }
            }
        }
        
        // Buka game
        function openGame(game) {
            alert(`Membuka game ${game}. Fitur ini akan diimplementasikan lebih lanjut.`);
            // Di sini akan diarahkan ke game yang dipilih
        }
        
        // Buka link sosial media
        function openSocialLink(social) {
            let url = '';
            
            switch(social) {
                case 'facebook':
                    url = 'https://facebook.com/menang888';
                    break;
                case 'telegram':
                    url = 'https://t.me/menang888';
                    break;
                case 'whatsapp':
                    url = 'https://wa.me/6281234567890';
                    break;
                case 'website':
                    url = 'https://menang888.com';
                    break;
            }
            
            window.open(url, '_blank');
        }
        
        // Fungsi untuk edit user (untuk admin)
        function editUser(userId) {
            alert(`Edit user ${userId}. Fitur ini akan diimplementasikan lebih lanjut.`);
        }
        
        // Fungsi untuk hapus user (untuk admin)
        function deleteUser(userId) {
            if (confirm(`Apakah Anda yakin ingin menghapus user ${userId}?`)) {
                users = users.filter(u => u.id !== userId);
                saveUsersToStorage();
                updateUsersTable();
                alert('User berhasil dihapus.');
            }
        }
        
        // Simpan data ke localStorage
        function saveUsersToStorage() {
            localStorage.setItem('menang888_users', JSON.stringify(users));
        }
        
        function saveDepositsToStorage() {
            localStorage.setItem('menang888_deposits', JSON.stringify(deposits));
        }
        
        function saveWithdrawsToStorage() {
            localStorage.setItem('menang888_withdraws', JSON.stringify(withdraws));
        }
        
        function saveSettingsToStorage() {
            localStorage.setItem('menang888_settings', JSON.stringify(gameSettings));
        }
        
        // Inisialisasi aplikasi saat halaman dimuat
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
